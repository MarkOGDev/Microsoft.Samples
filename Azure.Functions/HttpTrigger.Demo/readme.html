<!DOCTYPE html>
<html>
<head>
    <title>Azure Functions V2 - HTTP Trigger Example</title>
</head>
<body>

    <h1 id="azure-functions-v2-http-trigger-example">Azure Functions V2 - HTTP Trigger Example</h1>
<p>This example code shows you how to make <strong>Azure Functions V2</strong> with an <strong>Http Trigger</strong>.</p>
<p>An HttpTrigger will trigger a function to run in response to an incomming Http Request.</p>
<h2 id="development-tools">Development Tools</h2>
<p>Required / useful tools for this example are:</p>
<ul>
<li><a href="https://visualstudio.microsoft.com/">Visual Studio</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-use-emulator">Azure Storage Emulator</a></li>
<li><a href="https://azure.microsoft.com/en-us/features/storage-explorer/">Azure Storage Explorer</a></li>
</ul>
<h2 id="creating-a-function">Creating a Function</h2>
<p>You can create new functions in many ways. I prefer using Visual Studio.</p>
<p>See <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-your-first-function-visual-studio">Create your first function using Visual Studio.</a></p>
<p><a href="https://docs.microsoft.com/en-us/azure/azure-functions/">Guides are available for Azure Portal, Visual Studio Code, Azure Cli and more.</a></p>
<h2 id="example-code">Example Code</h2>
<p>File: <a href="/HelloWorldFunction.cs">HelloWorldFunction.cs</a></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Parameter name</th>
<th style="text-align: center;">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">name</td>
<td style="text-align: center;">Peter</td>
</tr>
</tbody>
</table>
<h3 id="helloworld1-query-string-parameters">HelloWorld1 - Query String Parameters</h3>
<ul>
<li>Configured for <strong>Get</strong> Requests</li>
<li>Requires a <strong>name parameter</strong> in the Query String</li>
</ul>
<h4 id="route">Route</h4>
<pre><code>/api/hello1?name={name}
</code></pre>
<h4 id="example-url">Example Url</h4>
<ul>
<li><a href="http://localhost:7071/api/hello1?name=Peter">http://localhost:7071/api/hello1?name=Peter</a></li>
</ul>
<h4 id="live-url">Live Url</h4>
<ul>
<li><a href="https://httptriggerdemo.azurewebsites.net/api/hello1?name=Peter">https://httptriggerdemo.azurewebsites.net/api/hello1?name=Peter</a></li>
</ul>
<h4 id="helloworld1-c-function-code">HelloWorld1 C# Function Code</h4>
<pre><code class="language-c#">[FunctionName(&quot;HelloWorld1&quot;)]
public static IActionResult HelloWorld1(
    [HttpTrigger(AuthorizationLevel.Function, &quot;get&quot;, Route = &quot;hello1&quot;)] HttpRequest req,
    ILogger log)
{
    log.LogInformation(&quot;C# HTTP trigger function processed a request.&quot;);

    string name = req.Query[&quot;name&quot;];

    return name != null
        ? (ActionResult)new OkObjectResult($&quot;Hello, {name}&quot;)
        : new BadRequestObjectResult(&quot;Please pass a name on the query string or in the request body&quot;);
}
</code></pre>
<h3 id="helloworld2-query-string-parameters">HelloWorld2 - Query String Parameters</h3>
<ul>
<li>Configured for <strong>Get</strong> and <strong>Post</strong> Requests</li>
<li>Requires a <strong>name parameter</strong> in the query string or <strong>name paramter</strong> posted in the request body.</li>
</ul>
<p>Posted Data may look like this:</p>
<pre><code class="language-json">{
    &quot;name&quot;:&quot;Peter&quot;
}
</code></pre>
<h4 id="route-1">Route</h4>
<pre><code>/api/hello2?name={name}
</code></pre>
<h4 id="example-url-1">Example Url</h4>
<ul>
<li><a href="http://localhost:7071/api/hello2?name=Peter">http://localhost:7071/api/hello2?name=Peter</a></li>
</ul>
<h4 id="live-url-1">Live Url</h4>
<ul>
<li><a href="https://httptriggerdemo.azurewebsites.net/api/hello2?name=Peter">https://httptriggerdemo.azurewebsites.net/api/hello2?name=Peter</a></li>
</ul>
<h4 id="helloworld2-c-function-code">HelloWorld2 C# Function Code</h4>
<pre><code class="language-c#">[FunctionName(&quot;HelloWorld2&quot;)]
public static async Task&lt;IActionResult&gt; HelloWorld2(
    [HttpTrigger(AuthorizationLevel.Function, &quot;get&quot;, &quot;post&quot;, Route = &quot;hello2&quot;)] HttpRequest req,
    ILogger log)
{
    log.LogInformation(&quot;C# HTTP trigger function processed a request.&quot;);

    string name = req.Query[&quot;name&quot;];

    string requestBody = await new StreamReader(req.Body).ReadToEndAsync();
    dynamic data = JsonConvert.DeserializeObject(requestBody);
    name = name ?? data?.name;

    return name != null
        ? (ActionResult)new OkObjectResult($&quot;Hello, {name}&quot;)
        : new BadRequestObjectResult(&quot;Please pass a name on the query string or in the request body&quot;);
}
</code></pre>
<h3 id="helloworld3-nice-url-parameters">HelloWorld3 - Nice Url Parameters</h3>
<ul>
<li>Configured for <strong>Get</strong> Requests</li>
<li>Requires a <strong>name value</strong> in the url</li>
</ul>
<h4 id="route-2">Route</h4>
<pre><code>/api/hello3/{name}
</code></pre>
<h4 id="example-url-2">Example Url</h4>
<ul>
<li><a href="http://localhost:7071/api/hello3/Peter">http://localhost:7071/api/hello3/Peter</a></li>
</ul>
<h4 id="live-url-2">Live Url</h4>
<ul>
<li><a href="https://httptriggerdemo.azurewebsites.net/api/hello3/Peter">https://httptriggerdemo.azurewebsites.net/api/hello3/Peter</a></li>
</ul>
<h4 id="helloworld3-c-function-code">HelloWorld3 C# Function Code</h4>
<pre><code class="language-c#">[FunctionName(&quot;HelloWorld3&quot;)]
public static IActionResult HelloWorld3(
    [HttpTrigger(AuthorizationLevel.Function, &quot;get&quot;, Route = &quot;hello3/{name}&quot;)] HttpRequest req,
    ILogger log,
    string name)
{
    log.LogInformation(&quot;C# HTTP trigger function processed a request.&quot;);

    return (ActionResult)new OkObjectResult($&quot;Hello, {name}&quot;);
}
</code></pre>


</body>
</html>